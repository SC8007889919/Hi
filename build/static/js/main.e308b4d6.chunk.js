(this.webpackJsonphi=this.webpackJsonphi||[]).push([[0],{33:function(e,t,a){e.exports=a(63)},38:function(e,t,a){},39:function(e,t,a){},63:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(28),s=a.n(l),c=(a(38),a(6)),o=a(7),m=a(8),i=a(9),u=(a(39),a(5)),d=a(1),p=a(10),h=a.n(p),f=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={customers:[]},n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this;h.a.get("http://localhost:5000/customers").then((function(t){e.setState({customers:t.data})}))}},{key:"deleteCustomer",value:function(e){var t=this;h.a.delete("http://localhost:5000/customers/".concat(e)).then((function(a){var n=t.state.customers.findIndex((function(t){return t.id===e}));t.state.customers.splice(n,1),t.props.history.push("/")}))}},{key:"render",value:function(){var e=this,t=this.state.customers;return n.createElement("div",null,0===t.length&&n.createElement("div",{className:"text-center"},n.createElement("h2",null,"No customer found at the moment")),n.createElement("div",{className:"container"},n.createElement("div",{className:"row"},n.createElement("table",{className:"table table-bordered"},n.createElement("thead",{className:"thead-light"},n.createElement("tr",null,n.createElement("th",{scope:"col"},"Firstname"),n.createElement("th",{scope:"col"},"Lastname"),n.createElement("th",{scope:"col"},"Email"),n.createElement("th",{scope:"col"},"Phone"),n.createElement("th",{scope:"col"},"Address"),n.createElement("th",{scope:"col"},"Description"),n.createElement("th",{scope:"col"},"Actions"))),n.createElement("tbody",null,t&&t.map((function(t){return n.createElement("tr",{key:t.id},n.createElement("td",null,t.first_name),n.createElement("td",null,t.last_name),n.createElement("td",null,t.email),n.createElement("td",null,t.phone),n.createElement("td",null,t.address),n.createElement("td",null,t.description),n.createElement("td",null,n.createElement("div",{className:"d-flex justify-content-between align-items-center"},n.createElement("div",{className:"btn-group",style:{marginBottom:"20px"}},n.createElement(u.b,{to:"edit/".concat(t.id),className:"btn btn-sm btn-outline-secondary"},"Edit Customer "),n.createElement("button",{className:"btn btn-sm btn-outline-secondary",onClick:function(){return e.deleteCustomer(t.id)}},"Delete Customer")))))})))))))}}]),a}(n.Component),E=a(11),b=a(32),v=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).processFormSubmission=function(e){e.preventDefault(),n.setState({loading:!0});var t={first_name:n.state.first_name,last_name:n.state.last_name,email:n.state.email,phone:n.state.phone,address:n.state.address,description:n.state.description};n.setState({submitSuccess:!0,values:[].concat(Object(b.a)(n.state.values),[t]),loading:!1}),h.a.post("http://localhost:5000/customers",t).then((function(e){return[setTimeout((function(){n.props.history.push("/")}),1500)]}))},n.handleInputChanges=function(e){e.preventDefault(),n.setState(Object(E.a)({},e.currentTarget.name,e.currentTarget.value))},n.state={first_name:"",last_name:"",email:"",phone:"",address:"",description:"",values:[],loading:!1,submitSuccess:!1},n}return Object(o.a)(a,[{key:"render",value:function(){var e=this,t=this.state,a=t.submitSuccess,r=t.loading;return n.createElement("div",null,n.createElement("div",{className:"col-md-12 form-wrapper"},n.createElement("h2",null," Create Post "),!a&&n.createElement("div",{className:"alert alert-info",role:"alert"},"Fill the form below to create a new post"),a&&n.createElement("div",{className:"alert alert-info",role:"alert"},"The form was successfully submitted!"),n.createElement("form",{id:"create-post-form",onSubmit:this.processFormSubmission,noValidate:!0},n.createElement("div",{className:"form-group col-md-12"},n.createElement("label",{htmlFor:"first_name"}," First Name "),n.createElement("input",{type:"text",id:"first_name",onChange:function(t){return e.handleInputChanges(t)},name:"first_name",className:"form-control",placeholder:"Enter customer's first name"})),n.createElement("div",{className:"form-group col-md-12"},n.createElement("label",{htmlFor:"last_name"}," Last Name "),n.createElement("input",{type:"text",id:"last_name",onChange:function(t){return e.handleInputChanges(t)},name:"last_name",className:"form-control",placeholder:"Enter customer's last name"})),n.createElement("div",{className:"form-group col-md-12"},n.createElement("label",{htmlFor:"email"}," Email "),n.createElement("input",{type:"email",id:"email",onChange:function(t){return e.handleInputChanges(t)},name:"email",className:"form-control",placeholder:"Enter customer's email address"})),n.createElement("div",{className:"form-group col-md-12"},n.createElement("label",{htmlFor:"phone"}," Phone "),n.createElement("input",{type:"text",id:"phone",onChange:function(t){return e.handleInputChanges(t)},name:"phone",className:"form-control",placeholder:"Enter customer's phone number"})),n.createElement("div",{className:"form-group col-md-12"},n.createElement("label",{htmlFor:"address"}," Address "),n.createElement("input",{type:"text",id:"address",onChange:function(t){return e.handleInputChanges(t)},name:"address",className:"form-control",placeholder:"Enter customer's address"})),n.createElement("div",{className:"form-group col-md-12"},n.createElement("label",{htmlFor:"description"}," Description "),n.createElement("input",{type:"text",id:"description",onChange:function(t){return e.handleInputChanges(t)},name:"description",className:"form-control",placeholder:"Enter Description"})),n.createElement("div",{className:"form-group col-md-4 pull-right"},n.createElement("button",{className:"btn btn-success",type:"submit"},"Create Customer"),r&&n.createElement("span",{className:"fa fa-circle-o-notch fa-spin"})))))}}]),a}(n.Component),g=Object(d.f)(v),N=a(30),C=a(17),y=a.n(C),j=a(31),O=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).processFormSubmission=function(){var e=Object(j.a)(y.a.mark((function e(t){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),n.setState({loading:!0}),h.a.patch("http://localhost:5000/customers/".concat(n.state.id),n.state.values).then((function(e){n.setState({submitSuccess:!0,loading:!1}),setTimeout((function(){n.props.history.push("/")}),1500)}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.setValues=function(e){n.setState({values:Object(N.a)({},n.state.values,{},e)})},n.handleInputChanges=function(e){e.preventDefault(),n.setValues(Object(E.a)({},e.currentTarget.id,e.currentTarget.value))},n.state={id:n.props.match.params.id,customer:{},values:[],loading:!1,submitSuccess:!1},n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this;h.a.get("http://localhost:5000/customers/".concat(this.state.id)).then((function(t){e.setState({customer:t.data})}))}},{key:"render",value:function(){var e=this,t=this.state,a=t.submitSuccess,r=t.loading;return n.createElement("div",{className:"App"},this.state.customer&&n.createElement("div",null,n.createElement("h1",null," Customer List Management App"),n.createElement("p",null," Built with React.js and TypeScript "),n.createElement("div",null,n.createElement("div",{className:"col-md-12 form-wrapper"},n.createElement("h2",null," Edit Customer "),a&&n.createElement("div",{className:"alert alert-info",role:"alert"},"Customer's details has been edited successfully "),n.createElement("form",{id:"create-post-form",onSubmit:this.processFormSubmission,noValidate:!0},n.createElement("div",{className:"form-group col-md-12"},n.createElement("label",{htmlFor:"first_name"}," First Name "),n.createElement("input",{type:"text",id:"first_name",defaultValue:this.state.customer.first_name,onChange:function(t){return e.handleInputChanges(t)},name:"first_name",className:"form-control",placeholder:"Enter customer's first name"})),n.createElement("div",{className:"form-group col-md-12"},n.createElement("label",{htmlFor:"last_name"}," Last Name "),n.createElement("input",{type:"text",id:"last_name",defaultValue:this.state.customer.last_name,onChange:function(t){return e.handleInputChanges(t)},name:"last_name",className:"form-control",placeholder:"Enter customer's last name"})),n.createElement("div",{className:"form-group col-md-12"},n.createElement("label",{htmlFor:"email"}," Email "),n.createElement("input",{type:"email",id:"email",defaultValue:this.state.customer.email,onChange:function(t){return e.handleInputChanges(t)},name:"email",className:"form-control",placeholder:"Enter customer's email address"})),n.createElement("div",{className:"form-group col-md-12"},n.createElement("label",{htmlFor:"phone"}," Phone "),n.createElement("input",{type:"text",id:"phone",defaultValue:this.state.customer.phone,onChange:function(t){return e.handleInputChanges(t)},name:"phone",className:"form-control",placeholder:"Enter customer's phone number"})),n.createElement("div",{className:"form-group col-md-12"},n.createElement("label",{htmlFor:"address"}," Address "),n.createElement("input",{type:"text",id:"address",defaultValue:this.state.customer.address,onChange:function(t){return e.handleInputChanges(t)},name:"address",className:"form-control",placeholder:"Enter customer's address"})),n.createElement("div",{className:"form-group col-md-12"},n.createElement("label",{htmlFor:"description"}," Description "),n.createElement("input",{type:"text",id:"description",defaultValue:this.state.customer.description,onChange:function(t){return e.handleInputChanges(t)},name:"description",className:"form-control",placeholder:"Enter Description"})),n.createElement("div",{className:"form-group col-md-4 pull-right"},n.createElement("button",{className:"btn btn-success",type:"submit"},"Edit Customer "),r&&n.createElement("span",{className:"fa fa-circle-o-notch fa-spin"})))))))}}]),a}(n.Component),_=Object(d.f)(O),S=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return n.createElement("div",null,n.createElement("nav",null,n.createElement("ul",null,n.createElement("li",null,n.createElement(u.b,{to:"/"}," Home ")),n.createElement("li",null,n.createElement(u.b,{to:"/create"}," Create Customer ")))),n.createElement(d.c,null,n.createElement(d.a,{path:"/",exact:!0,component:f}),n.createElement(d.a,{path:"/create",exact:!0,component:g}),n.createElement(d.a,{path:"/edit/:id",exact:!0,component:_})))}}]),a}(n.Component),F=Object(d.f)(S);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(u.a,null,r.a.createElement(F,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[33,1,2]]]);
//# sourceMappingURL=main.e308b4d6.chunk.js.map